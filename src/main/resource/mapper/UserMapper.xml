<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aaa.ssm.dao.UserDao">
    <select id="getUserList" resultType="map">
        select * from car
    </select>
    <!--根据参数获取分页数据-->
    <select id="getUserPage" parameterType="map" resultType="map">
        select * from car
        <where>
             <if test="cstatus!=null and cstatus!=''">
                 and cstatus =#{cstatus}
             </if>
            <if test="color!=null and color!=''">
                and color like concat('%',#{color},'%')
            </if>
        </where>
        limit #{start},#{pageSize}
    </select>
    <select id="getUserPageCount" resultType="int">
        select count(*) from car
        <where>
            <if test="color!=null and color!=''">
                and  cname  like concat('%',#{color},'%')
            </if>
            <if test="cstatus!=null and cstatus!=''">
                and  cstatus  = #{cstatus}
            </if>
        </where>
    </select>
</mapper>
